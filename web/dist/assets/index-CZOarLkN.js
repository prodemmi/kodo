import{c as J,f as H,b as A,j as e,U as cs,d as ds,B,C as hs,e as ms,g as xs,h as X,i as qe,k as Ue,l as Y,m as Ve,n as de,o as us,p as Te,q as E,s as We,t as U,v as Qe,w as Ee,x as Je,y as js,z as he,D as gs,E as ps,F as le,H as vs,J as ys,S as we,K as me,M as V,N as xe,O as Xe,P as Ye,r as te,G as f,T as ne,Q as oe,R as fs,V as De,W as bs,X as pe,Y as ws,Z as Cs,_ as zs,L as Ts,$ as I,a0 as b,a1 as $,a2 as i,a3 as ve,a4 as ye,a5 as L,a6 as ie,a7 as Ss,a8 as Le,a9 as G,aa as T,ab as fe,ac as _s,ad as Me}from"./index-DWm7jbTR.js";const[Ps,Se]=J("Accordion component was not found in the tree"),[Ns,Ze]=J("Accordion.Item component was not found in the tree");var Z={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const _e=H((s,t)=>{const{classNames:r,className:c,style:j,styles:l,vars:d,chevron:m,icon:x,onClick:u,onKeyDown:o,children:v,disabled:a,mod:C,...y}=A("AccordionControl",null,s),{value:h}=Ze(),g=Se(),q=g.isItemActive(h),D=typeof g.order=="number",P=`h${g.order}`,_=e.jsxs(cs,{...y,...g.getStyles("control",{className:c,classNames:r,style:j,styles:l,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:q,"chevron-position":g.chevronPosition,disabled:a},C],ref:t,onClick:k=>{u==null||u(k),g.onChange(h)},type:"button",disabled:a,"aria-expanded":q,"aria-controls":g.getRegionId(h),id:g.getControlId(h),onKeyDown:ds({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:o}),children:[e.jsx(B,{component:"span",mod:{rotate:!g.disableChevronRotation&&q,position:g.chevronPosition},...g.getStyles("chevron",{classNames:r,styles:l}),children:m||g.chevron}),e.jsx("span",{...g.getStyles("label",{classNames:r,styles:l}),children:v}),x&&e.jsx(B,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:r,styles:l}),children:x})]});return D?e.jsx(P,{...g.getStyles("itemTitle",{classNames:r,styles:l}),children:_}):_});_e.displayName="@mantine/core/AccordionControl";_e.classes=Z;const Pe=H((s,t)=>{const{classNames:r,className:c,style:j,styles:l,vars:d,value:m,mod:x,...u}=A("AccordionItem",null,s),o=Se();return e.jsx(Ns,{value:{value:m},children:e.jsx(B,{ref:t,mod:[{active:o.isItemActive(m)},x],...o.getStyles("item",{className:c,classNames:r,styles:l,style:j,variant:o.variant}),...u})})});Pe.displayName="@mantine/core/AccordionItem";Pe.classes=Z;const Ne=H((s,t)=>{const{classNames:r,className:c,style:j,styles:l,vars:d,children:m,...x}=A("AccordionPanel",null,s),{value:u}=Ze(),o=Se();return e.jsx(hs,{ref:t,...o.getStyles("panel",{className:c,classNames:r,style:j,styles:l}),...x,in:o.isItemActive(u),transitionDuration:o.transitionDuration??200,role:"region",id:o.getRegionId(u),"aria-labelledby":o.getControlId(u),children:e.jsx("div",{...o.getStyles("content",{classNames:r,styles:l}),children:m})})});Ne.displayName="@mantine/core/AccordionPanel";Ne.classes=Z;const Is={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},Bs=Y((s,{transitionDuration:t,chevronSize:r,radius:c})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":r===void 0?void 0:de(r),"--accordion-radius":c===void 0?void 0:Ve(c)}}));function w(s){const t=A("Accordion",Is,s),{classNames:r,className:c,style:j,styles:l,unstyled:d,vars:m,children:x,multiple:u,value:o,defaultValue:v,onChange:a,id:C,loop:y,transitionDuration:h,disableChevronRotation:g,chevronPosition:q,chevronSize:D,order:P,chevron:_,variant:k,radius:K,chevronIconSize:W,attributes:n,...z}=t,R=ms(C),[N,Q]=xs({value:o,defaultValue:v,finalValue:u?[]:null,onChange:a}),ge=F=>Array.isArray(N)?N.includes(F):F===N,re=F=>{const as=Array.isArray(N)?N.includes(F)?N.filter(ls=>ls!==F):[...N,F]:F===N?null:F;Q(as)},He=X({name:"Accordion",classes:Z,props:t,className:c,style:j,classNames:r,styles:l,unstyled:d,attributes:n,vars:m,varsResolver:Bs});return e.jsx(Ps,{value:{isItemActive:ge,onChange:re,getControlId:qe(`${R}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:qe(`${R}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:_===null?null:_||e.jsx(Ue,{size:W}),transitionDuration:h,disableChevronRotation:g,chevronPosition:q,order:P,loop:y,getStyles:He,variant:k,unstyled:d},children:e.jsx(B,{...He("root"),id:R,...z,variant:k,"data-accordion":!0,children:x})})}const As=s=>s;w.extend=As;w.withProps=us(w);w.classes=Z;w.displayName="@mantine/core/Accordion";w.Item=Pe;w.Panel=Ne;w.Control=_e;w.Chevron=Ue;const[ke,es]=J("Grid component was not found in tree"),Ce=(s,t)=>s==="content"?"auto":s==="auto"?"0rem":s?`${100/(t/s)}%`:void 0,Fe=(s,t,r)=>r||s==="auto"?"100%":s==="content"?"unset":Ce(s,t),Ge=(s,t)=>{if(s)return s==="auto"||t?"1":"auto"},Oe=(s,t)=>s===0?"0":s?`${100/(t/s)}%`:void 0;function Rs({span:s,order:t,offset:r,selector:c}){var C;const j=Te(),l=es(),d=l.breakpoints||j.breakpoints,x=E(s)===void 0?12:E(s),u=We({"--col-order":(C=E(t))==null?void 0:C.toString(),"--col-flex-grow":Ge(x,l.grow),"--col-flex-basis":Ce(x,l.columns),"--col-width":x==="content"?"auto":void 0,"--col-max-width":Fe(x,l.columns,l.grow),"--col-offset":Oe(E(r),l.columns)}),o=U(d).reduce((y,h)=>{var g;return y[h]||(y[h]={}),typeof t=="object"&&t[h]!==void 0&&(y[h]["--col-order"]=(g=t[h])==null?void 0:g.toString()),typeof s=="object"&&s[h]!==void 0&&(y[h]["--col-flex-grow"]=Ge(s[h],l.grow),y[h]["--col-flex-basis"]=Ce(s[h],l.columns),y[h]["--col-width"]=s[h]==="content"?"auto":void 0,y[h]["--col-max-width"]=Fe(s[h],l.columns,l.grow)),typeof r=="object"&&r[h]!==void 0&&(y[h]["--col-offset"]=Oe(r[h],l.columns)),y},{}),a=Qe(U(o),d).filter(y=>U(o[y.value]).length>0).map(y=>({query:l.type==="container"?`mantine-grid (min-width: ${d[y.value]})`:`(min-width: ${d[y.value]})`,styles:o[y.value]}));return e.jsx(Ee,{styles:u,media:l.type==="container"?void 0:a,container:l.type==="container"?a:void 0,selector:c})}var Ie={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const $s={span:12},Be=H((s,t)=>{const r=A("GridCol",$s,s),{classNames:c,className:j,style:l,styles:d,vars:m,span:x,order:u,offset:o,...v}=r,a=es(),C=Je();return e.jsxs(e.Fragment,{children:[e.jsx(Rs,{selector:`.${C}`,span:x,order:u,offset:o}),e.jsx(B,{ref:t,...a.getStyles("col",{className:js(j,C),style:l,classNames:c,styles:d}),...v})]})});Be.classes=Ie;Be.displayName="@mantine/core/GridCol";function Ke({gutter:s,selector:t,breakpoints:r,type:c}){const j=Te(),l=r||j.breakpoints,d=We({"--grid-gutter":he(E(s))}),m=U(l).reduce((o,v)=>(o[v]||(o[v]={}),typeof s=="object"&&s[v]!==void 0&&(o[v]["--grid-gutter"]=he(s[v])),o),{}),u=Qe(U(m),l).filter(o=>U(m[o.value]).length>0).map(o=>({query:c==="container"?`mantine-grid (min-width: ${l[o.value]})`:`(min-width: ${l[o.value]})`,styles:m[o.value]}));return e.jsx(Ee,{styles:d,media:c==="container"?void 0:u,container:c==="container"?u:void 0,selector:t})}const Hs={gutter:"md",grow:!1,columns:12},qs=Y((s,{justify:t,align:r,overflow:c})=>({root:{"--grid-justify":t,"--grid-align":r,"--grid-overflow":c}})),S=H((s,t)=>{const r=A("Grid",Hs,s),{classNames:c,className:j,style:l,styles:d,unstyled:m,vars:x,grow:u,gutter:o,columns:v,align:a,justify:C,children:y,breakpoints:h,type:g,attributes:q,...D}=r,P=X({name:"Grid",classes:Ie,props:r,className:j,style:l,classNames:c,styles:d,unstyled:m,attributes:q,vars:x,varsResolver:qs}),_=Je();return g==="container"&&h?e.jsxs(ke,{value:{getStyles:P,grow:u,columns:v,breakpoints:h,type:g},children:[e.jsx(Ke,{selector:`.${_}`,...r}),e.jsx("div",{...P("container"),children:e.jsx(B,{ref:t,...P("root",{className:_}),...D,children:e.jsx("div",{...P("inner"),children:y})})})]}):e.jsxs(ke,{value:{getStyles:P,grow:u,columns:v,breakpoints:h,type:g},children:[e.jsx(Ke,{selector:`.${_}`,...r}),e.jsx(B,{ref:t,...P("root",{className:_}),...D,children:e.jsx("div",{...P("inner"),children:y})})]})});S.classes=Ie;S.displayName="@mantine/core/Grid";S.Col=Be;const[Ds,ss]=J("Progress.Root component was not found in tree");var ee={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const Ae=H((s,t)=>{const{classNames:r,className:c,style:j,styles:l,vars:d,...m}=A("ProgressLabel",null,s),x=ss();return e.jsx(B,{ref:t,...x.getStyles("label",{className:c,style:j,classNames:r,styles:l}),...m})});Ae.classes=ee;Ae.displayName="@mantine/core/ProgressLabel";const Ls=Y((s,{size:t,radius:r,transitionDuration:c})=>({root:{"--progress-size":gs(t,"progress-size"),"--progress-radius":r===void 0?void 0:Ve(r),"--progress-transition-duration":typeof c=="number"?`${c}ms`:void 0}})),ue=H((s,t)=>{const r=A("ProgressRoot",null,s),{classNames:c,className:j,style:l,styles:d,unstyled:m,vars:x,autoContrast:u,transitionDuration:o,attributes:v,...a}=r,C=X({name:"Progress",classes:ee,props:r,className:j,style:l,classNames:c,styles:d,unstyled:m,attributes:v,vars:x,varsResolver:Ls});return e.jsx(Ds,{value:{getStyles:C,autoContrast:u},children:e.jsx(B,{ref:t,...C("root"),...a})})});ue.classes=ee;ue.displayName="@mantine/core/ProgressRoot";const Ms={withAria:!0},je=H((s,t)=>{const{classNames:r,className:c,style:j,styles:l,vars:d,value:m,withAria:x,color:u,striped:o,animated:v,mod:a,...C}=A("ProgressSection",Ms,s),y=ss(),h=Te(),g=x?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":m,"aria-valuetext":`${m}%`}:{};return e.jsx(B,{ref:t,...y.getStyles("section",{className:c,classNames:r,styles:l,style:j}),...C,...g,mod:[{striped:o||v,animated:v},a],__vars:{"--progress-section-width":`${m}%`,"--progress-section-color":le(u,h),"--progress-label-color":vs(y.autoContrast,h)?ps({color:u,theme:h,autoContrast:y.autoContrast}):void 0}})});je.classes=ee;je.displayName="@mantine/core/ProgressSection";const M=H((s,t)=>{const r=A("Progress",null,s),{value:c,classNames:j,styles:l,vars:d,color:m,striped:x,animated:u,"aria-label":o,...v}=r,{resolvedClassNames:a,resolvedStyles:C}=ys({classNames:j,styles:l,props:r});return e.jsx(ue,{ref:t,classNames:a,styles:C,vars:d,...v,children:e.jsx(je,{value:c,color:m,striped:x,animated:u,"aria-label":o})})});M.classes=ee;M.displayName="@mantine/core/Progress";M.Section=je;M.Root=ue;M.Label=Ae;const[ks,Fs]=J("Table component was not found in the tree");var se={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Gs(s,t){if(!t)return;const r={};return t.columnBorder&&s.withColumnBorders&&(r["data-with-column-border"]=!0),t.rowBorder&&s.withRowBorders&&(r["data-with-row-border"]=!0),t.striped&&s.striped&&(r["data-striped"]=s.striped),t.highlightOnHover&&s.highlightOnHover&&(r["data-hover"]=!0),t.captionSide&&s.captionSide&&(r["data-side"]=s.captionSide),t.stickyHeader&&s.stickyHeader&&(r["data-sticky"]=!0),r}function O(s,t){const r=`Table${s.charAt(0).toUpperCase()}${s.slice(1)}`,c=H((j,l)=>{const d=A(r,{},j),{classNames:m,className:x,style:u,styles:o,...v}=d,a=Fs();return e.jsx(B,{component:s,ref:l,...Gs(a,t),...a.getStyles(s,{className:x,classNames:m,style:u,styles:o,props:d}),...v})});return c.displayName=`@mantine/core/${r}`,c.classes=se,c}const ze=O("th",{columnBorder:!0}),rs=O("td",{columnBorder:!0}),ce=O("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),ts=O("thead",{stickyHeader:!0}),ns=O("tbody"),os=O("tfoot"),is=O("caption",{captionSide:!0});function Re({data:s}){return e.jsxs(e.Fragment,{children:[s.caption&&e.jsx(is,{children:s.caption}),s.head&&e.jsx(ts,{children:e.jsx(ce,{children:s.head.map((t,r)=>e.jsx(ze,{children:t},r))})}),s.body&&e.jsx(ns,{children:s.body.map((t,r)=>e.jsx(ce,{children:t.map((c,j)=>e.jsx(rs,{children:c},j))},r))}),s.foot&&e.jsx(os,{children:e.jsx(ce,{children:s.foot.map((t,r)=>e.jsx(ze,{children:t},r))})})]})}Re.displayName="@mantine/core/TableDataRenderer";const Os={type:"scrollarea"},Ks=Y((s,{minWidth:t,maxHeight:r,type:c})=>({scrollContainer:{"--table-min-width":de(t),"--table-max-height":de(r),"--table-overflow":c==="native"?"auto":void 0}})),$e=H((s,t)=>{const r=A("TableScrollContainer",Os,s),{classNames:c,className:j,style:l,styles:d,unstyled:m,vars:x,children:u,minWidth:o,maxHeight:v,type:a,scrollAreaProps:C,attributes:y,...h}=r,g=X({name:"TableScrollContainer",classes:se,props:r,className:j,style:l,classNames:c,styles:d,unstyled:m,attributes:y,vars:x,varsResolver:Ks,rootSelector:"scrollContainer"});return e.jsx(B,{component:a==="scrollarea"?we:"div",...a==="scrollarea"?v?{offsetScrollbars:"xy",...C}:{offsetScrollbars:"x",...C}:{},ref:t,...g("scrollContainer"),...h,children:e.jsx("div",{...g("scrollContainerInner"),children:u})})});$e.classes=se;$e.displayName="@mantine/core/TableScrollContainer";const Us={withRowBorders:!0,verticalSpacing:7},Vs=Y((s,{layout:t,captionSide:r,horizontalSpacing:c,verticalSpacing:j,borderColor:l,stripedColor:d,highlightOnHoverColor:m,striped:x,highlightOnHover:u,stickyHeaderOffset:o,stickyHeader:v})=>({table:{"--table-layout":t,"--table-caption-side":r,"--table-horizontal-spacing":he(c),"--table-vertical-spacing":he(j),"--table-border-color":l?le(l,s):void 0,"--table-striped-color":x&&d?le(d,s):void 0,"--table-highlight-on-hover-color":u&&m?le(m,s):void 0,"--table-sticky-header-offset":v?de(o):void 0}})),p=H((s,t)=>{const r=A("Table",Us,s),{classNames:c,className:j,style:l,styles:d,unstyled:m,vars:x,horizontalSpacing:u,verticalSpacing:o,captionSide:v,stripedColor:a,highlightOnHoverColor:C,striped:y,highlightOnHover:h,withColumnBorders:g,withRowBorders:q,withTableBorder:D,borderColor:P,layout:_,variant:k,data:K,children:W,stickyHeader:n,stickyHeaderOffset:z,mod:R,tabularNums:N,attributes:Q,...ge}=r,re=X({name:"Table",props:r,className:j,style:l,classes:se,classNames:c,styles:d,unstyled:m,attributes:Q,rootSelector:"table",vars:x,varsResolver:Vs});return e.jsx(ks,{value:{getStyles:re,stickyHeader:n,striped:y===!0?"odd":y||void 0,highlightOnHover:h,withColumnBorders:g,withRowBorders:q,captionSide:v||"bottom"},children:e.jsx(B,{component:"table",variant:k,ref:t,mod:[{"data-with-table-border":D,"data-tabular-nums":N},R],...re("table"),...ge,children:W||!!K&&e.jsx(Re,{data:K})})})});p.classes=se;p.displayName="@mantine/core/Table";p.Td=rs;p.Th=ze;p.Tr=ce;p.Thead=ts;p.Tbody=ns;p.Tfoot=os;p.Caption=is;p.ScrollContainer=$e;p.DataRenderer=Re;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],Qs=me("outline","calendar","Calendar",Ws);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=[["path",{d:"M4 19l16 0",key:"svg-0"}],["path",{d:"M4 15l4 -6l4 2l4 -5l4 4",key:"svg-1"}]],Js=me("outline","chart-line","ChartLine",Es);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],be=me("outline","info-circle","InfoCircle",Xs);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]],ae=me("outline","trending-up","TrendingUp",Ys),Zs=async()=>(await V.get("history/history")).data,er=async()=>(await V.get("history/trends")).data,sr=async()=>(await V.get("history/changes")).data,rr=async()=>(await V.get("history/compare")).data,tr=async()=>(await V.post("history")).data,nr=async()=>(await V.post("history/cleanup")).data;function or(s){return xe({queryKey:["history","history"],queryFn:Zs,enabled:s})}function ir(s){return xe({queryKey:["history","trends"],queryFn:er,enabled:s})}function ar(s){return xe({queryKey:["history","changes"],queryFn:sr,enabled:s})}function lr(s){return xe({queryKey:["history","comparison"],queryFn:rr,enabled:s})}function cr(){const s=Xe();return Ye({mutationFn:tr,onSuccess:()=>{s.invalidateQueries({queryKey:["history"]})}})}function dr(){const s=Xe();return Ye({mutationFn:nr,onSuccess:()=>{s.invalidateQueries({queryKey:["history"]})}})}function mr({isOpen:s,onClose:t}){const[r,c]=te.useState("timeline"),[j,l]=te.useState("all"),{data:d,isLoading:m}=or(!0),{data:x,isLoading:u}=ir(r==="trends"),{data:o,isLoading:v}=ar(r==="changes"),{data:a,isLoading:C}=lr(r==="comparison"),{mutate:y,isPending:h}=cr(),{mutate:g}=dr(),q=te.useMemo(()=>m||u||v||C,[m,u,v,C]),D=n=>{switch(n){case"done":return"green";case"in_progress":return"blue";case"todo":return"gray";default:return"gray"}},P=n=>{switch(n){case"high":return"red";case"medium":return"yellow";case"low":return"green";default:return"gray"}},_=n=>new Date(n).toLocaleString(),k=()=>{let n=(d==null?void 0:d.history)||[];return j!=="all"&&(n=n.filter(z=>z.branch===j)),n.reverse()},K=()=>[...new Set(((d==null?void 0:d.history)||[]).map(z=>z.branch))].filter(z=>z!=="unknown").map(z=>({value:z,label:z})),W=te.useMemo(()=>e.jsxs(f,{justify:"space-between",w:"100%",pr:"sm",children:[e.jsx(ne,{order:1,children:e.jsxs(f,{children:[e.jsx(oe,{size:32}),"Board History"]})}),e.jsx(fs.Consumer,{children:e.jsxs(f,{children:[e.jsx(De,{leftSection:e.jsx(bs,{size:16}),onClick:()=>y(),loading:h,variant:"light",children:"Refresh History"}),e.jsx(De,{leftSection:e.jsx(pe,{size:16}),onClick:()=>g(),variant:"light",children:"Cleanup Old History"})]})})]}),[h]);return e.jsx(ws,{opened:s,onClose:t,size:"xl",title:W,styles:{title:{width:"100%"}},children:e.jsx(Cs,{children:e.jsx(zs,{size:"xl",p:"0",fluid:!0,children:q?e.jsx(Ts,{zIndex:1e3,overlayProps:{radius:"sm",blur:2}}):e.jsxs(e.Fragment,{children:[e.jsxs(S,{mb:"md",h:"100%",children:[e.jsx(S.Col,{span:{base:12,md:3},children:e.jsx(I,{withBorder:!0,h:"100%",children:e.jsxs(b,{align:"center",gap:"xs",justify:"space-between",h:"100%",children:[e.jsx($,{size:"xl",variant:"light",children:e.jsx(oe,{})}),e.jsx(i,{size:"xl",fw:700,children:(d==null?void 0:d.count)||0}),e.jsx(i,{c:"dimmed",ta:"center",children:"Total Snapshots"})]})})}),e.jsx(S.Col,{span:{base:12,md:3},children:e.jsx(I,{withBorder:!0,h:"100%",children:e.jsxs(b,{align:"center",gap:"xs",justify:"space-between",h:"100%",children:[e.jsx($,{size:"xl",variant:"light",children:e.jsx(ve,{})}),e.jsx(i,{size:"md",fw:700,children:K().length}),e.jsx(i,{c:"dimmed",ta:"center",size:"sm",children:"Branches Tracked"})]})})}),o&&e.jsxs(e.Fragment,{children:[e.jsx(S.Col,{span:{base:12,md:3},children:e.jsx(I,{withBorder:!0,h:"100%",children:e.jsxs(b,{align:"center",gap:"xs",h:"100%",children:[e.jsx($,{size:"xl",variant:"light",color:"green",children:e.jsx(ae,{})}),e.jsx(i,{size:"md",fw:700,children:o.summary.added-o.summary.removed}),e.jsx(i,{c:"dimmed",ta:"center",children:"Net Change"})]})})}),e.jsx(S.Col,{span:{base:12,md:3},children:e.jsx(I,{withBorder:!0,h:"100%",children:e.jsxs(b,{align:"center",gap:"xs",h:"100%",children:[e.jsx($,{size:"xl",variant:"light",color:"orange",children:e.jsx(ye,{})}),e.jsx(i,{size:"md",fw:700,children:o.summary.status_changed}),e.jsx(i,{c:"dimmed",ta:"center",children:"Status Changes"})]})})})]})]}),(d==null?void 0:d.count)&&e.jsx(I,{withBorder:!0,mb:"md",children:e.jsxs(f,{justify:"space-between",children:[e.jsxs(f,{children:[e.jsx(Qs,{size:16}),e.jsxs(i,{size:"sm",c:"dimmed",children:["First snapshot:"," ",_(d.history[0].timestamp)]})]}),e.jsxs(f,{children:[e.jsx(oe,{size:16}),e.jsxs(i,{size:"sm",c:"dimmed",children:["Last updated:"," ",_(d.history[d.count-1].timestamp)]})]})]})}),e.jsxs(L,{value:r,onChange:c,variant:"pills",radius:"md",children:[e.jsxs(L.List,{children:[e.jsx(L.Tab,{value:"timeline",leftSection:e.jsx(oe,{size:16}),children:"Timeline"}),e.jsx(L.Tab,{value:"trends",leftSection:e.jsx(Js,{size:16}),children:"Trends"}),e.jsx(L.Tab,{value:"changes",leftSection:e.jsx(ae,{size:16}),children:"Recent Changes"}),e.jsx(L.Tab,{value:"comparison",leftSection:e.jsx(ie,{size:16}),children:"Comparison"})]}),e.jsx(L.Panel,{value:"timeline",pt:"md",children:e.jsxs(I,{withBorder:!0,children:[e.jsx(Ss,{mb:"lg",placeholder:"All branches",value:j,onChange:n=>l(n||"all"),data:[{value:"all",label:"All Branches"},...K()],leftSection:e.jsx(ve,{size:16}),w:200}),e.jsx(I.Section,{p:"md",children:e.jsx(Le,{active:-1,bulletSize:24,lineWidth:2,pr:"md",children:k().map((n,z)=>{const R=n.history.total>0?n.history.done/n.history.total*100:0;return e.jsx(Le.Item,{bullet:e.jsx(ie,{size:12}),title:e.jsxs(f,{children:[e.jsx(T,{variant:"light",leftSection:e.jsx(ve,{size:12}),children:n.branch}),e.jsx(T,{variant:"outline",c:"dimmed",children:n.commit_short}),e.jsx(i,{size:"sm",c:"dimmed",children:_(n.timestamp)})]}),children:e.jsxs(b,{gap:"xs",children:[n.commit_message&&e.jsxs(f,{gap:"2",mt:"xs",children:[e.jsx(i,{fw:"bold",children:"Commit:"})," ",e.jsx(i,{size:"sm",children:n.commit_message})]}),e.jsxs(S,{children:[e.jsx(S.Col,{span:6,children:e.jsxs(G,{p:"xs",withBorder:!0,children:[e.jsx(i,{size:"xs",c:"dimmed",mb:4,children:"Progress"}),e.jsx(M,{value:R,size:"sm",color:"green"}),e.jsxs(i,{size:"xs",mt:"sm",children:[R.toFixed(1),"% complete"]})]})}),e.jsx(S.Col,{span:6,children:e.jsxs(f,{gap:"xs",children:[e.jsxs(T,{color:"gray",size:"sm",children:[n.history.total," total"]}),e.jsxs(T,{color:"green",size:"sm",children:[n.history.done," done"]}),e.jsxs(T,{size:"sm",children:[n.history.in_progress," in progress"]}),e.jsxs(T,{color:"orange",size:"sm",children:[n.history.todo," todo"]})]})})]}),Object.keys(n.history.by_type).length>0&&e.jsx(w,{variant:"contained",children:e.jsxs(w.Item,{value:"details",children:[e.jsx(w.Control,{children:e.jsx(i,{size:"sm",c:"var(--mantine-color-dark-0)",children:"View item types"})}),e.jsx(w.Panel,{children:e.jsx(f,{gap:"xs",children:Object.entries(n.history.by_type).map(([N,Q])=>e.jsxs(T,{variant:"outline",size:"sm",children:[N,": ",Q]},N))})})]})})]})},`${n.commit}-${z}`)})})})]})}),e.jsx(L.Panel,{value:"trends",pt:"xl",children:x?e.jsxs(b,{children:[e.jsxs(I,{withBorder:!0,children:[e.jsx(ne,{order:3,mb:"md",children:"Completion Rate Over Time"}),e.jsx(we,{children:e.jsxs(p,{children:[e.jsx(p.Thead,{children:e.jsxs(p.Tr,{children:[e.jsx(p.Th,{children:"Commit"}),e.jsx(p.Th,{children:"Date"}),e.jsx(p.Th,{children:"Completion Rate"}),e.jsx(p.Th,{children:"Progress"})]})}),e.jsx(p.Tbody,{children:x.completion_rate.slice(-10).map((n,z)=>e.jsxs(p.Tr,{children:[e.jsx(p.Td,{children:e.jsx(T,{variant:"outline",children:n.commit})}),e.jsx(p.Td,{children:e.jsx(i,{size:"sm",children:_(n.timestamp)})}),e.jsx(p.Td,{children:e.jsxs(i,{fw:500,children:[n.rate.toFixed(1),"%"]})}),e.jsx(p.Td,{children:e.jsx(M,{value:n.rate,size:"sm"})})]},z))})]})})]}),e.jsxs(I,{withBorder:!0,children:[e.jsx(ne,{order:3,mb:"md",children:"Item Type Trends"}),e.jsx(w,{children:Object.entries(x.type_trends).map(([n,z])=>e.jsxs(w.Item,{value:n,children:[e.jsx(w.Control,{children:e.jsxs(f,{children:[e.jsx(i,{c:"var(--mantine-color-dark-0)",children:n}),e.jsxs(T,{children:[z.length," snapshots"]})]})}),e.jsx(w.Panel,{children:e.jsx(we,{children:e.jsxs(p,{children:[e.jsx(p.Thead,{children:e.jsxs(p.Tr,{children:[e.jsx(p.Th,{children:"Commit"}),e.jsx(p.Th,{children:"Date"}),e.jsx(p.Th,{children:"Count"})]})}),e.jsx(p.Tbody,{children:z.slice(-5).map((R,N)=>e.jsxs(p.Tr,{children:[e.jsx(p.Td,{children:e.jsx(T,{variant:"outline",children:R.commit})}),e.jsx(p.Td,{children:e.jsx(i,{size:"sm",children:_(R.timestamp)})}),e.jsx(p.Td,{children:e.jsx(T,{children:R.count})})]},N))})]})})})]},n))})]})]}):e.jsx(fe,{icon:e.jsx(be,{}),title:"No trend data available",children:"Not enough history snapshots to generate trend analysis. Trends require at least 2 snapshots."})}),e.jsx(L.Panel,{value:"changes",pt:"xl",children:o?e.jsxs(b,{children:[e.jsxs(S,{children:[e.jsx(S.Col,{span:4,children:e.jsx(I,{withBorder:!0,p:"md",children:e.jsxs(b,{align:"center",children:[e.jsx($,{variant:"light",size:"md",children:e.jsx(ae,{color:"white",size:18})}),e.jsx(i,{size:"xl",fw:700,children:o.summary.added}),e.jsx(i,{c:"green",children:"Items Added"})]})})}),e.jsx(S.Col,{span:4,children:e.jsx(I,{withBorder:!0,p:"md",children:e.jsxs(b,{align:"center",children:[e.jsx($,{variant:"light",size:"md",children:e.jsx(pe,{color:"red",size:18})}),e.jsx(i,{size:"xl",fw:700,children:o.summary.removed}),e.jsx(i,{c:"red",children:"Items Removed"})]})})}),e.jsx(S.Col,{span:4,children:e.jsx(I,{withBorder:!0,p:"md",children:e.jsxs(b,{align:"center",children:[e.jsx($,{variant:"light",size:"md",children:e.jsx(ye,{color:"white",size:18})}),e.jsx(i,{size:"xl",fw:700,children:o.summary.status_changed}),e.jsx(i,{children:"Status Changes"})]})})})]}),e.jsxs(w,{children:[o.added&&o.added.length>0&&e.jsxs(w.Item,{value:"added",children:[e.jsx(w.Control,{children:e.jsxs(f,{children:[e.jsx($,{color:"green",size:"sm",children:e.jsx(ae,{size:12})}),e.jsxs(i,{children:["Added Items (",o.added.length,")"]})]})}),e.jsx(w.Panel,{children:e.jsx(b,{gap:"xs",children:o.added.map(n=>e.jsx(G,{p:"sm",withBorder:!0,children:e.jsxs(f,{justify:"space-between",children:[e.jsxs(f,{children:[e.jsx(T,{variant:"light",children:n.type}),e.jsx(i,{children:n.title})]}),e.jsxs(f,{gap:"xs",children:[e.jsx(T,{color:P(n.priority),size:"sm",children:n.priority}),e.jsxs(i,{size:"sm",c:"dimmed",children:[n.file,":",n.line]})]})]})},n.id))})})]}),o.removed&&o.removed.length>0&&e.jsxs(w.Item,{value:"removed",children:[e.jsx(w.Control,{children:e.jsxs(f,{children:[e.jsx($,{color:"red",size:"sm",children:e.jsx(pe,{size:12})}),e.jsxs(i,{children:["Removed Items (",o.removed.length,")"]})]})}),e.jsx(w.Panel,{children:e.jsx(b,{gap:"xs",children:o.removed.map(n=>e.jsx(G,{p:"sm",withBorder:!0,children:e.jsxs(f,{justify:"space-between",children:[e.jsxs(f,{children:[e.jsx(T,{variant:"light",children:n.type}),e.jsx(i,{children:n.title})]}),e.jsxs(f,{gap:"xs",children:[e.jsx(T,{color:P(n.priority),size:"sm",children:n.priority}),e.jsxs(i,{size:"sm",c:"dimmed",children:[n.file,":",n.line]})]})]})},n.id))})})]}),o.status_changed&&o.status_changed.length>0&&e.jsxs(w.Item,{value:"status-changed",children:[e.jsx(w.Control,{children:e.jsxs(f,{children:[e.jsx($,{size:"sm",children:e.jsx(ye,{size:12})}),e.jsxs(i,{children:["Status Changes (",o.status_changed.length,")"]})]})}),e.jsx(w.Panel,{children:e.jsx(b,{gap:"xs",children:o.status_changed.map((n,z)=>e.jsx(G,{p:"sm",withBorder:!0,children:e.jsxs(f,{justify:"space-between",children:[e.jsxs(f,{children:[e.jsx(T,{variant:"light",children:n.item.type}),e.jsx(i,{children:n.item.title})]}),e.jsxs(f,{gap:"xs",children:[e.jsx(T,{color:D(n.old_status||""),size:"sm",children:n.old_status}),e.jsx(_s,{size:12}),e.jsx(T,{color:D(n.new_status||""),size:"sm",children:n.new_status}),e.jsxs(i,{size:"sm",c:"dimmed",children:[n.item.file,":",n.item.line]})]})]})},z))})})]})]})]}):e.jsx(fe,{icon:e.jsx(be,{}),title:"No recent changes",children:"No recent changes detected. This requires at least 2 history snapshots to compare."})}),e.jsx(L.Panel,{value:"comparison",pt:"xl",children:a?e.jsxs(b,{children:[e.jsxs(S,{children:[e.jsx(S.Col,{span:6,children:e.jsx(I,{withBorder:!0,children:e.jsxs(b,{children:[e.jsxs(f,{children:[e.jsx($,{children:e.jsx(ie,{color:"white"})}),e.jsxs("div",{children:[e.jsx(i,{fw:500,children:"Current Commit"}),e.jsx(i,{size:"sm",c:"dimmed",children:a.current.commit})]})]}),e.jsx(Me,{}),e.jsxs(f,{justify:"space-around",children:[e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.current.history.total}),e.jsx(i,{size:"sm",c:"dimmed",children:"Total"})]}),e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,c:"green",children:a.current.history.done}),e.jsx(i,{size:"sm",c:"dimmed",children:"Done"})]}),e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.current.history.in_progress}),e.jsx(i,{size:"sm",c:"dimmed",children:"In Progress"})]}),e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,c:"orange",children:a.current.history.todo}),e.jsx(i,{size:"sm",c:"dimmed",children:"Todo"})]})]}),e.jsx(M,{value:a.current.history.total>0?a.current.history.done/a.current.history.total*100:0,color:"green",size:"md"})]})})}),e.jsx(S.Col,{span:6,children:e.jsx(I,{withBorder:!0,children:e.jsxs(b,{children:[e.jsxs(f,{children:[e.jsx($,{color:"gray",children:e.jsx(ie,{color:"white"})}),e.jsxs("div",{children:[e.jsx(i,{fw:500,children:"Previous Commit"}),e.jsx(i,{size:"sm",c:"dimmed",children:a.previous.commit})]})]}),e.jsx(Me,{}),e.jsxs(f,{justify:"space-around",children:[e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.previous.history.total}),e.jsx(i,{size:"sm",c:"dimmed",children:"Total"})]}),e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,c:"green",children:a.previous.history.done}),e.jsx(i,{size:"sm",c:"dimmed",children:"Done"})]}),e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.previous.history.in_progress}),e.jsx(i,{size:"sm",c:"dimmed",children:"In Progress"})]}),e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,c:"orange",children:a.previous.history.todo}),e.jsx(i,{size:"sm",c:"dimmed",children:"Todo"})]})]}),e.jsx(M,{value:a.previous.history.total>0?a.previous.history.done/a.previous.history.total*100:0,color:"green",size:"md"})]})})})]}),e.jsxs(I,{withBorder:!0,children:[e.jsx(ne,{order:3,mb:"md",children:"Changes Summary"}),e.jsxs(f,{grow:!0,children:[e.jsx(G,{p:"md",bg:a.changes.total>0?"green.0":a.changes.total<0?"red.0":"gray.0",children:e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.changes.total>0?`+${a.changes.total}`:a.changes.total}),e.jsx(i,{c:"dimmed",children:"Total Items"})]})}),e.jsx(G,{p:"md",bg:a.changes.done>0?"green.0":a.changes.done<0?"red.0":"gray.0",children:e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.changes.done>0?`+${a.changes.done}`:a.changes.done}),e.jsx(i,{c:"dimmed",children:"Done Items"})]})}),e.jsx(G,{p:"md",bg:a.changes.in_progress>0?"blue.0":a.changes.in_progress<0?"red.0":"gray.0",children:e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.changes.in_progress>0?`+${a.changes.in_progress}`:a.changes.in_progress}),e.jsx(i,{c:"dimmed",children:"In Progress"})]})}),e.jsx(G,{p:"md",bg:a.changes.todo>0?"orange.0":a.changes.todo<0?"green.0":"gray.0",children:e.jsxs(b,{align:"center",children:[e.jsx(i,{size:"xl",fw:700,children:a.changes.todo>0?`+${a.changes.todo}`:a.changes.todo}),e.jsx(i,{c:"dimmed",children:"Todo Items"})]})})]})]})]}):e.jsx(fe,{icon:e.jsx(be,{}),title:"No comparison data",children:"Not enough history to compare commits. Comparison requires at least 2 snapshots."})})]})]})})})})}export{mr as default};
